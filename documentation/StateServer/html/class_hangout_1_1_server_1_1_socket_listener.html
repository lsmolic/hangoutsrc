<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>WebServices: Hangout.Server.SocketListener Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespace_hangout.html">Hangout</a>.<a class="el" href="namespace_hangout_1_1_server.html">Server</a>.<a class="el" href="class_hangout_1_1_server_1_1_socket_listener.html">SocketListener</a>
  </div>
</div>
<div class="contents">
<h1>Hangout.Server.SocketListener Class Reference</h1><!-- doxytag: class="Hangout::Server::SocketListener" -->
<p>Based on example from <a href="http://msdn2.microsoft.com/en-us/library/system.net.sockets.socketasynceventargs.aspx">http://msdn2.microsoft.com/en-us/library/system.net.sockets.socketasynceventargs.aspx</a> Implements the connection logic for the socket server. After accepting a connection, all data read from the client is sent back to the client with an additional word, to demonstrate how to manipulate the data. The read and echo back to the client pattern is continued until the client disconnects.  
<a href="#_details">More...</a></p>

<p><a href="class_hangout_1_1_server_1_1_socket_listener-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hangout_1_1_server_1_1_socket_listener.html#ab1731cc86869a54d1135decbb010f12f">SocketListener</a> (Int32 numConnections, Int32 receiveBufferSize, <a class="el" href="class_hangout_1_1_server_1_1_connection_manager.html">ConnectionManager</a> connectionMngr, log4net.ILog logger)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create an uninitialized server instance. To start the server listening for connection requests call the Init method followed by Start method.  <a href="#ab1731cc86869a54d1135decbb010f12f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hangout_1_1_server_1_1_socket_listener.html#ad2803fdc45bbf6ace1f4da2a26bc4687">Start</a> (Int32 port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Starts the server such that it is listening for incoming connection requests. This should be run on the main thread.  <a href="#ad2803fdc45bbf6ace1f4da2a26bc4687"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hangout_1_1_server_1_1_socket_listener.html#ac91ce8a2ced1feccf2a6c56e1a7dd78e">TryAcceptSingleConnection</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Begins an operation to accept a connection request from the client. this currently has the potential to be called both from the main thread (on initial startup) and from another thread (when processing subsequent connections).  <a href="#ac91ce8a2ced1feccf2a6c56e1a7dd78e"></a><br/></td></tr>
<tr><td colspan="2"><h2>Events</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MessageReceivedEventHandler&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hangout_1_1_server_1_1_socket_listener.html#aee6916974283a440f22f15761d9175ba">MessageReceivedEvent</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Occurs when a message is received from a remote client.  <a href="#aee6916974283a440f22f15761d9175ba"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Based on example from <a href="http://msdn2.microsoft.com/en-us/library/system.net.sockets.socketasynceventargs.aspx">http://msdn2.microsoft.com/en-us/library/system.net.sockets.socketasynceventargs.aspx</a> Implements the connection logic for the socket server. After accepting a connection, all data read from the client is sent back to the client with an additional word, to demonstrate how to manipulate the data. The read and echo back to the client pattern is continued until the client disconnects. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab1731cc86869a54d1135decbb010f12f"></a><!-- doxytag: member="Hangout::Server::SocketListener::SocketListener" ref="ab1731cc86869a54d1135decbb010f12f" args="(Int32 numConnections, Int32 receiveBufferSize, ConnectionManager connectionMngr, log4net.ILog logger)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Hangout.Server.SocketListener.SocketListener </td>
          <td>(</td>
          <td class="paramtype">Int32&nbsp;</td>
          <td class="paramname"> <em>numConnections</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int32&nbsp;</td>
          <td class="paramname"> <em>receiveBufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_hangout_1_1_server_1_1_connection_manager.html">ConnectionManager</a>&nbsp;</td>
          <td class="paramname"> <em>connectionMngr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">log4net.ILog&nbsp;</td>
          <td class="paramname"> <em>logger</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create an uninitialized server instance. To start the server listening for connection requests call the Init method followed by Start method. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>numConnections</em>&nbsp;</td><td>Maximum number of connections to be handled simultaneously.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>receiveBufferSize</em>&nbsp;</td><td>Buffer size to use for each socket I/O operation.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ad2803fdc45bbf6ace1f4da2a26bc4687"></a><!-- doxytag: member="Hangout::Server::SocketListener::Start" ref="ad2803fdc45bbf6ace1f4da2a26bc4687" args="(Int32 port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Hangout.Server.SocketListener.Start </td>
          <td>(</td>
          <td class="paramtype">Int32&nbsp;</td>
          <td class="paramname"> <em>port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Starts the server such that it is listening for incoming connection requests. This should be run on the main thread. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>localEndPoint</em>&nbsp;</td><td>The endpoint which the server will listening for connection requests on.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac91ce8a2ced1feccf2a6c56e1a7dd78e"></a><!-- doxytag: member="Hangout::Server::SocketListener::TryAcceptSingleConnection" ref="ac91ce8a2ced1feccf2a6c56e1a7dd78e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Hangout.Server.SocketListener.TryAcceptSingleConnection </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Begins an operation to accept a connection request from the client. this currently has the potential to be called both from the main thread (on initial startup) and from another thread (when processing subsequent connections). </p>
<p>s </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>acceptEventArg</em>&nbsp;</td><td>The context object to use when issuing the accept operation on the server's listening socket.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Event Documentation</h2>
<a class="anchor" id="aee6916974283a440f22f15761d9175ba"></a><!-- doxytag: member="Hangout::Server::SocketListener::MessageReceivedEvent" ref="aee6916974283a440f22f15761d9175ba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MessageReceivedEventHandler Hangout.Server.SocketListener.MessageReceivedEvent</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Occurs when a message is received from a remote client. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/deployment/repo/WebSrc/Hangout.Server/StateServer/Reflector/SocketServer/<a class="el" href="_socket_listener_8cs.html">SocketListener.cs</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Thu Dec 3 08:35:51 2009 for WebServices by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
